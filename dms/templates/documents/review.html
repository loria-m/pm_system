{% extends 'base.html' %}
{% block title %}Review Document{% endblock %}
{% block page_title %}Review Document{% endblock %}
{% block content %}
<div class="row justify-content-center"><div class="col-lg-7">
<div class="card">
<div class="card-header py-3"><i class="bi bi-check-circle me-2"></i>Review: {{ doc.reference_number }}</div>
<div class="card-body">
    <div class="bg-light rounded p-3 mb-4">
        <h6 class="fw-bold mb-2">{{ doc.title }}</h6>
        <div class="row text-sm">
            <div class="col-6"><small class="text-muted">Source:</small><br>{{ doc.get_source_display }}</div>
            <div class="col-6"><small class="text-muted">Created By:</small><br>{{ doc.created_by }}</div>
        </div>
        {% if doc.description %}<p class="mt-2 mb-0 small">{{ doc.description|truncatechars:200 }}</p>{% endif %}
    </div>
    <form method="post">{% csrf_token %}
    <div class="mb-3">
        <label class="form-label fw-semibold">Decision</label>
        <div class="d-flex gap-4 mt-1">
            {% for radio in form.decision %}
            <div class="form-check form-check-inline">
                {{ radio.tag }}
                <label class="form-check-label {% if radio.choice_value == 'approve' %}text-success fw-semibold{% else %}text-danger fw-semibold{% endif %}">
                    {{ radio.choice_label }}
                </label>
            </div>
            {% endfor %}
        </div>
    </div>
    <div class="mb-4">
        <label class="form-label fw-semibold">Notes / Comments</label>
        {{ form.notes }}
    </div>
    <div class="d-flex gap-2">
        <button type="submit" class="btn btn-primary"><i class="bi bi-send me-2"></i>Submit Decision</button>
        <a href="{% url 'document_detail' doc.pk %}" class="btn btn-outline-secondary">Cancel</a>
    </div>
    </form>
</div>
</div>
</div></div>
{% endblock %}
